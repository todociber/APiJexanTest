<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <?php echo $__env->yieldContent('title'); ?>
            <!-- Tell the browser to be responsive to screen width -->
    <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">

    <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
    <!-- Bootstrap 3.3.5 -->

    <link rel="stylesheet" type="text/css" href="<?php echo e(base_url()); ?>resources/assets/css/bootstrap.css">
    <!-- Font Awesome -->
    <link rel="stylesheet" type="text/css" href="<?php echo e(base_url()); ?>resources/assets/css/font-awesome.css">
    <link rel="stylesheet" type="text/css" href="<?php echo e(base_url()); ?>resources/dist/css/select2.css">
<!-- Ionicons -->
    <link rel="stylesheet" href="<?php echo e(base_url()); ?>resources/intl-tel-input/build/css/intlTelInput.css" />


    <link rel="stylesheet" type="text/css" href="<?php echo e(base_url()); ?>resources/assets/plugins/datatables/dataTables.bootstrap.css">
<!-- Theme style -->

    <link rel="stylesheet" type="text/css" href="<?php echo e(base_url()); ?>resources/assets/dist/css/AdminLTE.css">
<!-- AdminLTE Skins. Choose a skin from the css/skins
         folder instead of downloading all of them to reduce the load. -->

    <link rel="stylesheet" type="text/css" href="<?php echo e(base_url()); ?>resources/assets/dist/css/skins/_all-skins.css">



    <link rel="stylesheet" type="text/css" href="<?php echo e(base_url()); ?>resources/assets/css/SERO.css">
    <!-- Bootstrap 3.3.5 -->


            <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <![endif]-->


</head>
<body class="hold-transition skin-black-light sidebar-mini">
<div class="wrapper">

    <header class="main-header">

        <!-- Header Navbar: style can be found in header.less -->
        <nav class="navbar navbar-static-top nav " role="navigation">
            <!-- Logo -->

            <!-- Sidebar toggle a-->
            <a href="#" class="sidebar-toggle" data-toggle="offcanvas" role="a">
                <span class="sr-only">Toggle navigation</span>
            </a>

            <div class="navbar-custom-menu">
                <ul class="nav navbar-nav">
                    <!-- Messages: style can be found in dropdown.less-->
                    <!-- Tasks: style can be found in dropdown.less -->
                    <!-- User Account: style can be found in dropdown.less -->
                    <li class="dropdown user user-menu">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">

                            <span class="hidden-xs"></span>
                        </a>
                        <ul class="dropdown-menu">
                            <!-- User image -->
                            <li class="user-header">

                                <p>

                                </p>

                            </li>
                            <!-- Menu Body -->

                            <!-- Menu Footer-->
                            <li class="user-footer">
                                <div class="pull-left">
                                    <a href=""
                                       class="btn btn-default btn-flat">Perfil</a>
                                </div>
                                <div class="pull-right">
                                    <a href="" class="btn btn-default btn-flat">Cerrar Sesi√≥n</a>
                                </div>
                            </li>
                        </ul>
                    </li>
                    <!-- Control Sidebar Toggle a -->

                </ul>
            </div>
        </nav>
    </header>
    <!-- Left side column. contains the logo and sidebar -->
    <aside class="main-sidebar">
        <!-- sidebar: style can be found in sidebar.less -->
        <section class="sidebar">
            <div class="user-panel">
                <div class="pull-left info">
                    <p></p>

                </div>
            </div>

            <!-- sidebar menu: : style can be found in sidebar.less -->
            <ul class="sidebar-menu">
                <li class="header">Options</li>


                <li><a href="<?php echo e(base_url()); ?>sellers"><i class="fa fa-circle-o text-yellow"></i>
                        <span>Sellers</span></a></li>
                <li><a href="<?php echo e(base_url()); ?>login/logout"><i class="fa fa-circle-o text-red"></i>
                        <span>Logout</span></a></li>

            </ul>
        </section>
        <!-- /.sidebar -->
    </aside>
    <!-- Content Wrapper. Contains page content -->
    <div class="content-wrapper">
        <!-- Content Header (Page header) -->
        <section class="content-header">
            <h1>
                <?php echo $__env->yieldContent('NombrePantalla'); ?>

            </h1>

        </section>


        <!-- Main content -->
        <section class="content">
            <?php echo $__env->yieldContent('content'); ?>
        </section>

    </div><!-- /.content-wrapper -->
    <footer class="main-footer">
        <div class="pull-right hidden-xs">
            <b>Version</b> 1.0.0
        </div>
        <strong>Copyright &copy; 2017 <a href="<?php echo e(base_url()); ?>">Jexan TestBackend</a>.</strong>
        Derechos reservados.
    </footer>


</div>

<!-- jQuery 2.1.4 -->

<script src="<?php echo e(base_url()); ?>resources/assets/plugins/jQuery/jQuery-2.1.4.min.js"></script>


<script src="<?php echo e(base_url()); ?>resources/dist/js/select2.full.js"></script>
<!-- Bootstrap 3.3.5 -->

<script src="<?php echo e(base_url()); ?>resources/assets/js/bootstrap.min.js"></script>
<!-- DataTables -->

<script src="<?php echo e(base_url()); ?>resources/assets/plugins/datatables/jquery.dataTables.min.js"></script>

<script src="<?php echo e(base_url()); ?>resources/assets/plugins/datatables/dataTables.bootstrap.min.js"></script>
<!-- SlimScroll -->

<script src="<?php echo e(base_url()); ?>resources/assets/plugins/slimScroll/jquery.slimscroll.min.js"></script>
<!-- FastClick -->

<script src="<?php echo e(base_url()); ?>resources/assets/plugins/fastclick/fastclick.min.js"></script>
<!-- AdminLTE App -->

<script src="<?php echo e(base_url()); ?>resources/assets/dist/js/app.min.js"></script>
<!-- AdminLTE for demo purposes -->

<script src="<?php echo e(base_url()); ?>resources/assets/dist/js/demo.js"></script>


<script src="<?php echo e(base_url()); ?>resources/assets/plugins/datepicker/bootstrap-datepicker.js"></script>


<script src="<?php echo e(base_url()); ?>resources/assets/plugins/timepicker/bootstrap-timepicker.min.js"></script>

<script src="<?php echo e(base_url()); ?>resources/assets/plugins/datepicker/locales/bootstrap-datepicker.es.js"></script>

<script src="<?php echo e(base_url()); ?>resources/assets/js/jquery.mask.min.js"></script>

<script src="<?php echo e(base_url()); ?>resources/assets/plugins/datepicker/datepicker3.css"></script>

<script src="<?php echo e(base_url()); ?>resources/assets/js/loading.js"></script>

<script src="<?php echo e(base_url()); ?>resources/assets/js/SERO.js"></script>
<script src="<?php echo e(base_url()); ?>resources/intl-tel-input/build/js/intlTelInput.min.js"></script>
<script>
    $(document).ready(function() {
        $('#sellerForm')
            .find('[name="phoneNumber"]')
            .intlTelInput({
                utilsScript: '<?php echo e(base_url()); ?>/resources/intl-tel-input/lib/libphonenumber/build/utils.js',
                autoPlaceholder: true,
                preferredCountries: [ "us", "sv" ]

            });
        <?php if(isset($_SESSION['countryName'])): ?>
        $("#phoneNumber").intlTelInput("setNumber", "<?php echo @$_SESSION['phoneNumber']; ?>");
        $("#phoneNumber").intlTelInput("setCountry", '<?php echo @$_SESSION['countryName']; ?>');
        habilitate();
        GetRegionsLoad(<?php echo @$_SESSION['countryFind']; ?>);
        <?php endif; ?>




    });
    $("#phoneNumber").on("countrychange", function(e, countryData) {
        validator();
    });

</script>
<script>
    function habilitate() {
        var countryData = $("#phoneNumber").intlTelInput("getSelectedCountryData");
        document.getElementById('countryName').value=countryData.iso2;
        document.getElementById('countryExtension').value=countryData.dialCode;
        document.getElementById('validation').innerHTML = 'format valid';
        document.getElementById('save').disabled = false;
    }
    function validator() {
        var isValid = $("#phoneNumber").intlTelInput("isValidNumber");
        console.log('Validator Iniciado'+isValid);
        if(isValid){
            var countryData = $("#phoneNumber").intlTelInput("getSelectedCountryData");
            document.getElementById('countryName').value=countryData.iso2;
            document.getElementById('countryExtension').value=countryData.dialCode;
            document.getElementById('validation').innerHTML = 'format valid';
            document.getElementById('save').disabled = false;
        }else{
            var error = $("#phoneNumber").intlTelInput("getValidationError");
            document.getElementById('validation').innerHTML = 'format invalid';
            document.getElementById('countryExtension').value="";
            document.getElementById('countryName').value="";
            document.getElementById('save').disabled = true;
        }
    }
</script>
<script>

    $("#cities").select2({
        placeholder: '--- Select your city ---'
    });
    $("#country").select2({
        placeholder: '--- Select your country ---'
    });
    $("#regions").select2({
        placeholder: '--- Select your Region ---'
    });
    $('#example3').DataTable({
        "paging": true,
        "lengthChange": true,
        "searching": true,
        "ordering": true,
        "info": true,
        responsive: true,
        "autoWidth": true,
        "lengthMenu": [[50, 100, 150, 200], [50, 100, 150,200]]
    });
    $('#example4').DataTable({
        "paging": true,
        "lengthChange": true,
        "searching": true,
        "ordering": true,
        "info": true,
        responsive: true,
        "autoWidth": true,

        "order": [[3, 'asc'], [2, 'desc']]

    });


    $(document).ready(function () {
    })
</script>

<script>
   function GetRegionsLoad(dep) {
        $('#regions').find('option').remove();
        $('#cities').find('option').remove();
        //ELIMINANDO MUNICIPIOS DEL SELECT
        $('#divRegion').removeClass('add-Active');
        $('#divRegion').addClass('add-Innactive');
        $.ajax(
            {
            url: '<?php echo e(base_url()); ?>get_regions/'+dep,
            type: 'GET',
            dataType: 'json',
            success: function (json, textStatus, xhr)
            {
                waitingDialog.hide();
                console.log('status ' + xhr.status);
                $('#divRegion').removeClass('add-Innactive');
                $('#divRegion').addClass('add-Active');
                var counter=0;
                var exist = 0;
                json.forEach(function (entry)
                {
                    <?php if(!isset($_SESSION['regions'])): ?>
                    if(counter==0)
                    {
                        counter=1;
                        GetCityCountry(entry.id);
                    }
                    <?php else: ?>
                    if(entry.id == <?php echo @$_SESSION['regions']; ?>)
                    {
                        exist=1;
                        GetCityCountry(entry.id);
                        $("#regions").append('<option value="' + entry.id + '" selected>' + entry.name + '</option>');
                    }
                    <?php endif; ?>
                    $("#regions").append('<option value="' + entry.id + '">' + entry.name + '</option>');
                });
                if(exist==0)
                {
                    json.forEach(function (entry)
                    {
                        if(counter==0)
                        {
                            counter=1;
                            GetCityCountry(entry.id);
                        }
                    });
                }
            }
        });
        $('#divCity').removeClass('add-Innactive');

    }

    function GetCityCountry(dep) {

        $('#cities').find('option').remove();

        $('#divCity').removeClass('add-Active');
        $('#divCity').addClass('add-Innactive');
        $.ajax({

            url: '<?php echo e(base_url()); ?>get_city/'+dep,
            type: 'GET',
            dataType: 'json',
            success: function (json, textStatus, xhr)
            {
                waitingDialog.hide();
                console.log('status ' + xhr.status);
                $('#divCity').removeClass('add-Innactive');
                $('#divCity').addClass('add-Active');
                json.forEach(function (entry)
                {
                    if(entry.id == '<?php echo @$_SESSION['cities']; ?>')
                    {
                        $("#cities").append('<option value="' + entry.id + '" selected>' + entry.name + '</option>');
                    }
                    else
                    {
                        $("#cities").append('<option value="' + entry.id + '">' + entry.name + '</option>');
                    }

                });
            }



        });
    }
</script>

</body>
</html>
